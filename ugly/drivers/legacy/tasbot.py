import numpy as np

# mask of LEDs that exist
mask = np.array([
    [0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0],
    [0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0],
    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1],
    [0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0],
    [0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0],
], dtype=np.bool)

# map from the framebuffer to ws2812 indices
map = np.array(
    [[0, 2], [0, 3], [0, 4], [0, 5], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5], [1, 6], [2, 0],
     [2, 1], [2, 2], [2, 3], [2, 4], [2, 5], [2, 6], [2, 7], [3, 0], [3, 1], [3, 2], [3, 3],
     [3, 4], [3, 5], [3, 6], [3, 7], [4, 0], [4, 1], [4, 2], [4, 3], [4, 4], [4, 5], [4, 6],
     [4, 7], [5, 0], [5, 1], [5, 2], [5, 3], [5, 4], [5, 5], [5, 6], [5, 7], [6, 1], [6, 2],
     [6, 3], [6, 4], [6, 5], [6, 6], [7, 2], [7, 3], [7, 4], [7, 5], [7, 10], [7, 11], [7, 12],
     [7, 13], [7, 14], [7, 15], [7, 16], [7, 17], [7, 18], [6, 17], [6, 16], [6, 15], [6, 14],
     [6, 13], [6, 12], [6, 11], [6, 10], [7, 9], [4, 10], [4, 11], [4, 12], [4, 13], [4, 14],
     [4, 15], [4, 16], [4, 17], [3, 16], [3, 15], [3, 14], [3, 13], [3, 12], [3, 11], [1, 9],
     [1, 10], [1, 11], [1, 12], [1, 13], [1, 14], [1, 15], [1, 16], [1, 17], [1, 18], [0, 17],
     [0, 16], [0, 15], [0, 14], [0, 13], [0, 12], [0, 11], [0, 10], [0, 25], [0, 24], [0, 23],
     [0, 22], [1, 26], [1, 25], [1, 24], [1, 23], [1, 22], [1, 21], [2, 27], [2, 26], [2, 25],
     [2, 24], [2, 23], [2, 22], [2, 21], [2, 20], [3, 27], [3, 26], [3, 25], [3, 24], [3, 23],
     [3, 22], [3, 21], [3, 20], [4, 27], [4, 26], [4, 25], [4, 24], [4, 23], [4, 22], [4, 21],
     [4, 20], [5, 27], [5, 26], [5, 25], [5, 24], [5, 23], [5, 22], [5, 21], [5, 20], [6, 26],
     [6, 25], [6, 24], [6, 23], [6, 22], [6, 21], [7, 25], [7, 24], [7, 23], [7, 22]],
    dtype=np.uint8)

def TasBot(led_pin=18):
    from .ws2812 import WS2812
    return WS2812(28, 8, led_pin, map=map, name='TasBot')
